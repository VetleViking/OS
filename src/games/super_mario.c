#include <system.h> 
#include <test_img.h> // include the test image

#include <stdbool.h>
#include <stddef.h>
#include <stdint.h>


bool in_super_mario = false; // bool to track if in game

int positions[8][2] = {{0, 0}, {16, 0}, {32, 0}, {48, 0}, {64, 0}, {80, 0}, {0, 16}, {16, 16}}; // positions of the mario sprites

int test_img[]  = {
  0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xff9900, 0xff9900, 0xff9900, 
  0x000000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0xff9900, 0xff9900, 0xff9900, 
  0x000000, 0x827717, 0x827717, 0x827717, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0x827717, 0x827717, 0x827717, 0xff9900, 0x827717, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xff9900, 0xff9900, 
  0x827717, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x827717, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0x000000, 0x827717, 0x827717, 0x827717, 
  0x827717, 0xff9900, 0x827717, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0xff9900, 0x827717, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x827717, 0xff9900, 0x827717, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0x827717, 0x827717, 0xff9900, 0xff9900, 0x827717, 0x827717, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0x827717, 0x827717, 0x827717, 
  0x827717, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0xff9900, 0x827717, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0xff9900, 0x827717, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x827717, 
  0x000000, 0x000000, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0x827717, 0x827717, 0x827717, 0xd50000, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0x827717, 0x827717, 0x827717, 0x827717, 0x000000, 
  0x000000, 0x827717, 0x827717, 0xd50000, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0x827717, 0xd50000, 0xd50000, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0xd50000, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0xd50000, 0xd50000, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0x000000, 0x000000, 
  0x827717, 0x827717, 0x827717, 0xd50000, 0x827717, 0x827717, 0xd50000, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xff9900, 0xff9900, 0x827717, 0x827717, 0x827717, 0x827717, 0xd50000, 0xd50000, 0xd50000, 0x827717, 0x827717, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x000000, 0x827717, 0x827717, 0x827717, 0x827717, 0xd50000, 0xd50000, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0x827717, 0xd50000, 0x827717, 0x000000, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xd50000, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0x827717, 0x827717, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0x827717, 0x827717, 0xd50000, 0x827717, 0x827717, 0x827717, 0xd50000, 0x827717, 0x000000, 0x000000, 0x000000, 
  0x827717, 0x827717, 0x827717, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x827717, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xff9900, 0xff9900, 0xff9900, 0x000000, 0x827717, 0x827717, 0xd50000, 0xff9900, 0xd50000, 0xd50000, 0xd50000, 0x827717, 0x827717, 0xff9900, 0xff9900, 0x000000, 0x827717, 0x827717, 0x827717, 0xd50000, 0xd50000, 0xff9900, 0xd50000, 0xd50000, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xff9900, 0x827717, 0x827717, 0x827717, 0x827717, 0x827717, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0xff9900, 0xff9900, 0x827717, 0x827717, 0x827717, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0x827717, 0x827717, 0x827717, 0x827717, 0xd50000, 0x827717, 0x827717, 0x827717, 0xd50000, 0x000000, 0x000000, 0x827717, 
  0xff9900, 0x827717, 0xd50000, 0xff9900, 0xd50000, 0xd50000, 0xff9900, 0xd50000, 0x827717, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xff9900, 0xff9900, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x827717, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0x827717, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xff9900, 0xff9900, 0xd50000, 0x827717, 0x827717, 0x827717, 0x827717, 0x827717, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x827717, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xff9900, 0xff9900, 0x827717, 0x827717, 0x827717, 0x827717, 0x827717, 0x827717, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x827717, 
  0xff9900, 0xff9900, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xff9900, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x827717, 0x827717, 0x000000, 0x000000, 0xd50000, 0x827717, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xd50000, 0x827717, 0x827717, 0x827717, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xff9900, 0xff9900, 0xff9900, 0x000000, 0xd50000, 0xd50000, 0x827717, 0xd50000, 0xd50000, 0xff9900, 0xd50000, 0xd50000, 0xff9900, 0xd50000, 0x827717, 0x827717, 
  0xff9900, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0xd50000, 0x827717, 0xff9900, 0xff9900, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0x827717, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xff9900, 0x000000, 0x827717, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x827717, 0x827717, 
  0x000000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x000000, 0x827717, 0xd50000, 0xd50000, 0x827717, 0x827717, 0x827717, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x827717, 0x827717, 
  0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0x827717, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0x827717, 0x827717, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
  0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
  0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
  0x000000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
  0x000000, 0x827717, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
  0xff9900, 0x827717, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0x827717, 0x827717, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xff9900, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
  0xff9900, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
  0x000000, 0xff9900, 0x827717, 0x827717, 0xff9900, 0xff9900, 0x827717, 0x827717, 0xff9900, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0xff9900, 0xff9900, 0x827717, 0x827717, 0xff9900, 0x827717, 0xff9900, 0xff9900, 0x827717, 0xff9900, 0x827717, 0x827717, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
  0x000000, 0x000000, 0xff9900, 0x827717, 0x827717, 0x827717, 0x827717, 0xff9900, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xff9900, 0xff9900, 0x827717, 0x827717, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0x827717, 0x827717, 0xff9900, 0xff9900, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
  0x000000, 0x827717, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0x827717, 0xff9900, 0xff9900, 0x827717, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
  0x827717, 0x827717, 0x827717, 0xd50000, 0x827717, 0x827717, 0xd50000, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0xff9900, 0x827717, 0x827717, 0x827717, 0x827717, 0xff9900, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
  0x827717, 0x827717, 0x827717, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
  0xff9900, 0x827717, 0xd50000, 0xff9900, 0xd50000, 0xd50000, 0xff9900, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0xff9900, 0xff9900, 0xff9900, 0xff9900, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
  0xff9900, 0xff9900, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0xd50000, 0xd50000, 0x827717, 0x827717, 0x827717, 0x827717, 0xd50000, 0xd50000, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
  0xff9900, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0xd50000, 0xd50000, 0x827717, 0x827717, 0xd50000, 0xd50000, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
  0x000000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0xd50000, 0xd50000, 0xd50000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0xd50000, 0xff9900, 0xd50000, 0xd50000, 0xff9900, 0xd50000, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
  0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 
  0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x827717, 0x827717, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0xd50000, 0x827717, 0x827717, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000, 0x000000
};

typedef struct {
    int x;
    int y;
    int sprite;
    int direction;
    bool moving;
} super_mario_struct;

super_mario_struct super_mario = {0, 0, 0, 0, 0};

int mario_frame_buffer[640][480];
bool print_frame = false;

// function to draw a sprite
// sprite is the index of the sprite in the positions array, 0 to 7
void super_mario_draw_sprite(bool use_frame_buffer) {
    int width = 16;
    int height = 16;

    int x = super_mario.x;
    int y = super_mario.y;
    int sprite = super_mario.sprite;

    for (int j = 0; j < width; j++) {
        for (int k = 0; k < height; k++) {
            unsigned int color = test_img[(k + positions[sprite][1]) * TEST_IMG_WIDTH + (j + positions[sprite][0])];

            if (use_frame_buffer) {
                for (int l = 0; l < 4; l++) {
                    for (int m = 0; m < 4; m++) {
                        mario_frame_buffer[x + j * 4 + l][y + k * 4 + m] = color;
                    }
                }
            } else {
                bga_draw_rectangle(x + j * 4, y + k * 4, 4, 4, color);
            }
        }
    }
}

void super_mario_keyboard_handler(c) {
    if (c == 75) { // left
        
    } else if (c == 77) { // right
        super_mario.moving = true;
    } else if (c == 72) { // up

	} else if (c == 80) { // down

    } else if (c == 57) { // space

    } else if (c == 28) { // enter

    } else if (c == 1) { // esc
        in_super_mario = false;
    }
}

void super_mario_play() {
    while (in_super_mario) {
        sleep(3); // sleep for 0.03s (arund 30fps)
        if (print_frame) {
            if (super_mario.moving) {
                
            }

            print_frame = false;
        }
    }
}  

void super_mario_start() {
    add_keyboard_handler(super_mario_keyboard_handler);
    add_main_loop_call(super_mario_play);

    in_super_mario = true;

    bga_set_video_mode(640, 480, 32, 1, 1);

    super_mario_draw_sprite(false);
}